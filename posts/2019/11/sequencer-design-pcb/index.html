<!doctype html><html lang=en-gb><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><title>Sequencer Design: Schematic & PCBs | Relay Computer</title><meta name=description content="I&rsquo;ve got the designs for the 24-cycle FSM and pulse distribution in place so all that&rsquo;s left for the sequencer is to bring the schematics together and then design the PCBs &mldr; and yup, that&rsquo;s PCBs plural as this is going to be another part of the computer that is complicated enough to need spreading over two interconnected cards. The way I can tell this is a &rsquo;two card job&rsquo; is purely down to the number of relays I&rsquo;ve used."><meta name=robots content="index, follow"><link href=https://use.fontawesome.com/releases/v5.0.8/css/all.css rel=stylesheet><link rel=stylesheet href=/css/main.min.css><link rel=apple-touch-icon sizes=57x57 href=/img/favicon/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/img/favicon/apple-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/img/favicon/apple-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/img/favicon/apple-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/img/favicon/apple-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/img/favicon/apple-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/img/favicon/apple-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/img/favicon/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/img/favicon/apple-icon-180x180.png><link rel=icon type=image/png sizes=192x192 href=/img/favicon/android-icon-192x192.png><link rel=icon type=image/png sizes=32x32 href=/img/favicon/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/img/favicon/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=/img/favicon/favicon-16x16.png><link rel=manifest href=/img/favicon/manifest.json><meta name=msapplication-TileColor content="#ffffff"><meta name=msapplication-TileImage content="/img/favicon/ms-icon-144x144.png"><meta name=theme-color content="#ffffff"><meta property="og:title" content="Sequencer Design: Schematic & PCBs"><meta property="og:description" content="I&rsquo;ve got the designs for the 24-cycle FSM and pulse distribution in place so all that&rsquo;s left for the sequencer is to bring the schematics together and then design the PCBs &mldr; and yup, that&rsquo;s PCBs plural as this is going to be another part of the computer that is complicated enough to need spreading over two interconnected cards. The way I can tell this is a &rsquo;two card job&rsquo; is purely down to the number of relays I&rsquo;ve used."><meta property="og:type" content="article"><meta property="og:url" content="https://relaycomputer.co.uk/posts/2019/11/sequencer-design-pcb/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-11-11T03:03:00+00:00"><meta property="article:modified_time" content="2019-11-11T03:03:00+00:00"><meta itemprop=name content="Sequencer Design: Schematic & PCBs"><meta itemprop=description content="I&rsquo;ve got the designs for the 24-cycle FSM and pulse distribution in place so all that&rsquo;s left for the sequencer is to bring the schematics together and then design the PCBs &mldr; and yup, that&rsquo;s PCBs plural as this is going to be another part of the computer that is complicated enough to need spreading over two interconnected cards. The way I can tell this is a &rsquo;two card job&rsquo; is purely down to the number of relays I&rsquo;ve used."><meta itemprop=datePublished content="2019-11-11T03:03:00+00:00"><meta itemprop=dateModified content="2019-11-11T03:03:00+00:00"><meta itemprop=wordCount content="1025"><meta itemprop=keywords content="sequencing,design,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Sequencer Design: Schematic & PCBs"><meta name=twitter:description content="I&rsquo;ve got the designs for the 24-cycle FSM and pulse distribution in place so all that&rsquo;s left for the sequencer is to bring the schematics together and then design the PCBs &mldr; and yup, that&rsquo;s PCBs plural as this is going to be another part of the computer that is complicated enough to need spreading over two interconnected cards. The way I can tell this is a &rsquo;two card job&rsquo; is purely down to the number of relays I&rsquo;ve used."><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-47484999-2","auto"),ga("send","pageview"))</script><script defer language=javascript type=text/javascript src=/js/main.min.js></script>
<link rel=stylesheet type=text/css href=https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css></head><body><script src=https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js data-cfasync=false></script>
<script>window.cookieconsent.initialise({palette:{popup:{background:"#000"},button:{background:"#f1d600"}},theme:"edgeless"})</script><nav class="navbar is-primary" role=navigation aria-label="main navigation"><div class=container><div class=navbar-brand><a href=/ class="navbar-item has-text-weight-semibold"><img class=mr-2 src=/img/favicon/favicon-96x96.png width=32>
Relay Computer</a>
<a role=button class=navbar-burger aria-label=menu aria-expanded=false data-target=navMenu><span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span></a></div><div class=navbar-menu id=navMenu><div class=navbar-end><a href=/ class=navbar-item>Home</a>
<a href=/pages/overview/ class=navbar-item>Overview</a>
<a href=/pages/progress/ class=navbar-item>Progress</a>
<a href=/cards/ class=navbar-item>Cards</a>
<a href=/posts/ class="navbar-item is-active">Posts</a>
<a href=/tags/ class=navbar-item>Tags</a></div></div></div></nav><section class="hero is-bold is-small is-primary"><div class="hero-body pb-3 pt-4"><div class=container><h1 class="title is-size-4">Sequencer Design: Schematic & PCBs</h1><h2 class=subtitle></h2></div></div></section><section class="section has-background-white"><div class=container><div class=columns><div class="column is-three-quarters-widescreen"><div class=content><p>I&rsquo;ve got the designs for the 24-cycle FSM and pulse distribution in place so all that&rsquo;s left for the sequencer is to bring
the schematics together and then design the PCBs &mldr; and yup, that&rsquo;s PCBs plural as this is going to be another part of the
computer that is complicated enough to need spreading over two interconnected cards. The way I can tell this is a &rsquo;two card
job&rsquo; is purely down to the number of relays I&rsquo;ve used. In this case the total comes to 60 and if you&rsquo;re really packing
them in (6 rows of 8 relays) you can just about get away with a maximum of 48 per card.</p><p>So, two cards it is. The other choice is deciding where to split the design (i.e. what goes on the &lsquo;upper&rsquo; card and what on
the &rsquo;lower&rsquo;). In this case it seems sensible to place the 8, 10 and 12 cycles plus derived pulses on the lower card and
then the remaining 14 and 24 cycles on the upper card. The other consideration is fitting the status LEDs on the front of
the cards (and splitting this way fits nicely) and then what signals need to pass between upper and lower cards.</p><p>Given I&rsquo;ve already introduced the FSM and pulse distribution schematics in my last posts I&rsquo;ll cut straight to the chase and
you can find the consolidated <a href=/pdf/sequencer-hi.pdf>upper sequencer schematic here</a> and the
<a href=/pdf/sequencer-lo.pdf>lower sequencer schematic here</a> (both in PDF format). In both cases the card is largely
defined by the backplane connectors it uses &mldr; W1 for the upper card (made up of address, operation and pulse busses) and W2
for the lower card (made up of Control X, Y and Z busses). This is similar to the existing pair of controller cards which also
talk to enough of the computer to need access to all the busses offered by the W1 and W2 type connectors.</p><p>For the PCB design we follow the same basic steps as before for the Y backplane register: place components that have to be in
a certain location first; place other components in rough logical groups; lay tracks; build ground/power planes; add text
labels etc. In this case we&rsquo;ll also need to pass additional signals between the cards via an &lsquo;interconnect&rsquo;. Let&rsquo;s start then
with the backplane connectors as these pre-exist on the W backplane and have to be in a certain location:</p><figure><img src=/img/posts/2019/2019-11-11-0000.png alt="W1 Connectors (Upper Card)"></figure><figure><img src=/img/posts/2019/2019-11-11-0001.png alt="W2 Connectors (Lower Card)"></figure><p>Note that the &lsquo;JLCJLCJLCJLC&rsquo; text in the top right corner is to let my PCB manufacture know where I&rsquo;d like them to put their
identification code so they can find my PCB amongst all the others they&rsquo;ll be making. If I don&rsquo;t specify the location then the
manufacturer decides for me and invariably puts it somewhere annoying. In this case I want it underneath a socket so they
can see it but I wont. Next up is the LEDs:</p><figure><img src=/img/posts/2019/2019-11-11-0002.png alt="LEDs (Upper Card)"></figure><figure><img src=/img/posts/2019/2019-11-11-0003.png alt="LEDs (Lower Card)"></figure><p>Although it&rsquo;s not specified on the schematic or the PCB I&rsquo;ll stick with my usual convention for LED colours and use
green for the pulses (representing a &lsquo;result&rsquo; output of the card), yellow for the abort signals (representing command/control
inputs to the card) and red for everything else (the FSM stages in this case).</p><p>I now need to place the relays, diodes and card interconnects. This often involves just moving things around until there&rsquo;s a
nice fit and the ratlines (showing the connections needed between components) are looking reasonably tidy.</p><figure><img src=/img/posts/2019/2019-11-11-0004.png alt="Basic layout (Upper Card)"></figure><figure><img src=/img/posts/2019/2019-11-11-0005.png alt="Basic layout (Lower Card)"></figure><p>I&rsquo;ve also labeled the card now I&rsquo;ve put everything in position. I find this just helps a little when moving
on to the most time consuming part of PCB design &mldr; laying down the tracks. A good place to start is routing groups of
related signals that are heading in the same direction - busses are good examples of this:</p><figure><img src=/img/posts/2019/2019-11-11-0006.png alt="Upper card pulse bus"><figcaption markdown=span>Upper card pulse bus</figcaption></figure><figure><img src=/img/posts/2019/2019-11-11-0007.png alt="Upper card pulse LEDs"><figcaption markdown=span>Upper card pulse LEDs</figcaption></figure><figure><img src=/img/posts/2019/2019-11-11-0008.png alt="Lower card FSM outputs"><figcaption markdown=span>Lower card FSM outputs</figcaption></figure><figure><img src=/img/posts/2019/2019-11-11-0009.png alt="Lower card FSM LEDs"><figcaption markdown=span>Lower card FSM LEDs</figcaption></figure><p>It&rsquo;s then just a case of laying down tracks between groups of relays and any other remaining signals. Another rule I tend to
follow is to try and keep the tracks on the front of the card going vertical and then route horizontally on the rear of the
card:</p><figure><img src=/img/posts/2019/2019-11-11-0010.png alt="vertical and horizontal routing (Lower Card)"></figure><p>Another good use of laying tracks on the rear of the card is if you&rsquo;re squeezed for space on the front:</p><figure><img src=/img/posts/2019/2019-11-11-0011.png alt="squeezing tracks in (Lower Card)"></figure><p>&mldr; this tends to work best when near the edge of the card so that it leaves plenty of space for the copper pours. The pours
create a large area of copper that fills any space not used up by tracks. This also gives me somewhere to route the ground
lines (which come off pretty much every active component) and also the power lines. It&rsquo;s quite common to have a power plane
on one side of the board and a ground on the other but I tend to have ground on both sides (to ensure ground can get around
any areas where there&rsquo;s a lot of tracks) and then route a &lsquo;power river&rsquo; through the rear ground plane:</p><figure><img src=/img/posts/2019/2019-11-11-0012.png alt="Copper Pour (Upper Card)"></figure><figure><img src=/img/posts/2019/2019-11-11-0013.png alt="Copper Pour (Lower Card)"></figure><p>All that&rsquo;s left then is just to have a good close up inspection of the board to make sure everything is placed well and
tracks are routed properly. There&rsquo;s several built-in tools that help with this such as the DRC which&rsquo;ll check that pad sizes,
track widths, spaces between items and so on are within the abilities of your chosen manufacturer. In my case I&rsquo;m well outside
of those minimum tolerances. Another good idea is to produce a &lsquo;realistic&rsquo; image of the final board design to have a last
visual check:</p><figure><img src=/img/posts/2019/2019-11-11-0014.png alt="Upper Card (front)">
<img src=/img/posts/2019/2019-11-11-0015.png alt="Upper Card (rear)"><figcaption markdown=span>Upper Card (front and rear)</figcaption></figure><figure><img src=/img/posts/2019/2019-11-11-0016.png alt="Lower Card (front)">
<img src=/img/posts/2019/2019-11-11-0017.png alt="Lower Card (rear)"><figcaption markdown=span>Lower Card (front and rear)</figcaption></figure><p>If you&rsquo;d like to take a closer look at any of these you can find the full colour previews in PDF format
<a href=/pdf/sequencer-hi-pcbp.pdf>here for the upper card</a> and <a href=/pdf/sequencer-lo-pcbp.pdf>here for the lower card</a>.
There&rsquo;s also another version <a href=/pdf/sequencer-hi-pcb.pdf>here for the upper card</a> and
<a href=/pdf/sequencer-lo-pcb.pdf>here for the lower card</a> which seperates the layers out.</p><p>That&rsquo;s the sequencer design fully complete so all that&rsquo;s left is to send it off to the manufacturer and wait for the
PCBs to arrive in the post &mldr; once they arrive it&rsquo;s soldering time.</p></div><div class="field is-grouped is-grouped-multiline"><div class=control><span class="tags has-addons"><span class="tag is-link">Published</span>
<span class="tag is-info">Nov 11, 2019</span></span></div><div class=control><a href=/cards/sequencer class="tags has-addons"><span class="tag is-link">Card</span>
<span class="tag is-info">sequencer</span></a></div></div><div class="field is-grouped is-grouped-multiline"><div class=control><a href=/tags/design/ class=tags><span class="tag is-primary">design</span></a></div><div class=control><a href=/tags/sequencing/ class=tags><span class="tag is-primary">sequencing</span></a></div></div><div class=columns><div class=column><span class=has-text-weight-semibold>Previous Post</span><br><a href=/posts/2019/11/sequencer-design-pulse-dist/>Sequencer Design: Pulse Distribution</a></div><div class="column has-text-right"><span class=has-text-weight-semibold>Next Post</span><br><a href=/posts/2019/11/sequencer-construction/>Sequencer Construction</a></div></div></div></div></div></section><section class="hero is-small is-success"><div class="hero-body py-1"></div></section><footer class="footer pt-5"><div class=container><div class=columns><div class=column><p class=has-text-weight-semibold>On this blog</p><p><a href=https://relaycomputer.co.uk/>Home</a></p><p><a href=https://relaycomputer.co.uk/posts/>Posts</a></p><p><a href=https://relaycomputer.co.uk/tags/>Tags</a></p><p><a href=https://relaycomputer.co.uk/pages/progress/>Progress</a></p></div><div class=column><p class=has-text-weight-semibold>Related sites</p><p><a href=https://www.youtube.com/channel/UCDn07eKw2HDPIgSAGQgliAA><span class="fab fa-youtube fa-lg fa-fw"></span> YouTube Channel</a></p><p><a href=https://github.com/paul80nd><span class="fab fa-github fa-lg fa-fw"></span> GitHub Repos</a></p><p><a href=https://editor.relaycomputer.co.uk><span class="fas fa-code fa-lg fa-fw"></span> Relay Code Editor</a></p><p><a href=https://simulator.relaycomputer.co.uk><span class="fas fa-flask fa-lg fa-fw"></span> Relay Simulator</a></p></div><div class=column><p class=has-text-weight-semibold>Share this page</p><p><a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2frelaycomputer.co.uk%2fposts%2f2019%2f11%2fsequencer-design-pcb%2f&quote=Sequencer%20Design%3a%20Schematic%20%26%20PCBs" target=_blank title="Share on Facebook"><i class="fab fa-facebook-square fa-2x" aria-hidden=true></i><span class=sr-only>Share on Facebook</span></a>
<a href="https://twitter.com/intent/tweet?source=https%3a%2f%2frelaycomputer.co.uk%2fposts%2f2019%2f11%2fsequencer-design-pcb%2f&text=Sequencer%20Design%3a%20Schematic%20%26%20PCBs:https%3a%2f%2frelaycomputer.co.uk%2fposts%2f2019%2f11%2fsequencer-design-pcb%2f" target=_blank title=Tweet><i class="fab fa-twitter-square fa-2x" aria-hidden=true></i><span class=sr-only>Tweet</span></a>
<a href="http://pinterest.com/pin/create/button/?url=https%3a%2f%2frelaycomputer.co.uk%2fposts%2f2019%2f11%2fsequencer-design-pcb%2f&description=Sequencer%20Design%3a%20Schematic%20%26%20PCBs" target=_blank title="Pin it"><i class="fab fa-pinterest-square fa-2x" aria-hidden=true></i><span class=sr-only>Pin it</span></a>
<a href="http://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2frelaycomputer.co.uk%2fposts%2f2019%2f11%2fsequencer-design-pcb%2f&title=Sequencer%20Design%3a%20Schematic%20%26%20PCBs&source=https%3a%2f%2frelaycomputer.co.uk%2fposts%2f2019%2f11%2fsequencer-design-pcb%2f" target=_blank title="Share on LinkedIn"><i class="fab fa-linkedin fa-2x" aria-hidden=true></i><span class=sr-only>Share on LinkedIn</span></a>
<a href="mailto:?subject=Sequencer%20Design%3a%20Schematic%20%26%20PCBs&body=https%3a%2f%2frelaycomputer.co.uk%2fposts%2f2019%2f11%2fsequencer-design-pcb%2f" target=_blank title="Send email"><i class="fas fa-envelope-square fa-2x" aria-hidden=true></i><span class=sr-only>Send email</span></a></p></div></div></div></footer></body></html>