<!doctype html><html lang=en-gb><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><title>The problem with memory | Relay Computer</title><meta name=description content="It&rsquo;s time, at last, to start looking at the design for the computer&rsquo;s memory and this is a bit of a game changer as it&rsquo;s the final part of the jigsaw that lets the computer run a program. However, it&rsquo;s also the part of the computer that leaves me in a bit of a quandary.
The problem with memory is that typically you need quite a lot of it and that&rsquo;s something that doesn&rsquo;t come easy with relays."><meta name=robots content="index, follow"><link href=https://use.fontawesome.com/releases/v5.0.8/css/all.css rel=stylesheet><link rel=stylesheet href=/css/main.css><link rel=apple-touch-icon sizes=57x57 href=/img/favicon/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/img/favicon/apple-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/img/favicon/apple-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/img/favicon/apple-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/img/favicon/apple-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/img/favicon/apple-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/img/favicon/apple-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/img/favicon/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/img/favicon/apple-icon-180x180.png><link rel=icon type=image/png sizes=192x192 href=/img/favicon/android-icon-192x192.png><link rel=icon type=image/png sizes=32x32 href=/img/favicon/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/img/favicon/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=/img/favicon/favicon-16x16.png><link rel=manifest href=/img/favicon/manifest.json><meta name=msapplication-TileColor content="#ffffff"><meta name=msapplication-TileImage content="/img/favicon/ms-icon-144x144.png"><meta name=theme-color content="#ffffff"><meta property="og:title" content="The problem with memory"><meta property="og:description" content="It&rsquo;s time, at last, to start looking at the design for the computer&rsquo;s memory and this is a bit of a game changer as it&rsquo;s the final part of the jigsaw that lets the computer run a program. However, it&rsquo;s also the part of the computer that leaves me in a bit of a quandary.
The problem with memory is that typically you need quite a lot of it and that&rsquo;s something that doesn&rsquo;t come easy with relays."><meta property="og:type" content="article"><meta property="og:url" content="https://relaycomputer.co.uk/posts/2017/08/the-problem-with-memory/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-08-18T22:58:00+01:00"><meta property="article:modified_time" content="2017-08-18T22:58:00+01:00"><meta itemprop=name content="The problem with memory"><meta itemprop=description content="It&rsquo;s time, at last, to start looking at the design for the computer&rsquo;s memory and this is a bit of a game changer as it&rsquo;s the final part of the jigsaw that lets the computer run a program. However, it&rsquo;s also the part of the computer that leaves me in a bit of a quandary.
The problem with memory is that typically you need quite a lot of it and that&rsquo;s something that doesn&rsquo;t come easy with relays."><meta itemprop=datePublished content="2017-08-18T22:58:00+01:00"><meta itemprop=dateModified content="2017-08-18T22:58:00+01:00"><meta itemprop=wordCount content="1102"><meta itemprop=keywords content="theory,design,memory,video,musings,"><meta name=twitter:card content="summary"><meta name=twitter:title content="The problem with memory"><meta name=twitter:description content="It&rsquo;s time, at last, to start looking at the design for the computer&rsquo;s memory and this is a bit of a game changer as it&rsquo;s the final part of the jigsaw that lets the computer run a program. However, it&rsquo;s also the part of the computer that leaves me in a bit of a quandary.
The problem with memory is that typically you need quite a lot of it and that&rsquo;s something that doesn&rsquo;t come easy with relays."><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-47484999-2","auto"),ga("send","pageview"))</script><script defer language=javascript type=text/javascript src=/js/main.js></script>
<link rel=stylesheet type=text/css href=https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css></head><body><script src=https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js data-cfasync=false></script>
<script>window.cookieconsent.initialise({palette:{popup:{background:"#000"},button:{background:"#f1d600"}},theme:"edgeless"})</script><nav class="navbar is-primary" role=navigation aria-label="main navigation"><div class=container><div class=navbar-brand><a href=/ class="navbar-item has-text-weight-semibold"><img class=mr-2 src=/img/favicon/favicon-96x96.png width=32>
Relay Computer</a>
<a role=button class=navbar-burger aria-label=menu aria-expanded=false data-target=navMenu><span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span></a></div><div class=navbar-menu id=navMenu><div class=navbar-end><a href=/ class=navbar-item>Home</a>
<a href=/pages/overview/ class=navbar-item>Overview</a>
<a href=/pages/progress/ class=navbar-item>Progress</a>
<a href=/cards/ class=navbar-item>Cards</a>
<a href=/posts/ class="navbar-item is-active">Posts</a>
<a href=/tags/ class=navbar-item>Tags</a></div></div></div></nav><section class="hero is-bold is-small is-primary"><div class="hero-body pb-3 pt-4"><div class=container><h1 class="title is-size-4">The problem with memory</h1><h2 class=subtitle></h2></div></div></section><section class="section has-background-white"><div class=container><div class=columns><div class="column is-three-quarters-widescreen"><div class=content><p>It&rsquo;s time, at last, to start looking at the design for the computer&rsquo;s memory
and this is a bit of a game changer as it&rsquo;s the final part of the jigsaw that
lets the computer run a program. However, it&rsquo;s also the part of the computer
that leaves me in a bit of a quandary.</p><p>The problem with memory is
that typically you need quite a lot of it and that&rsquo;s something that doesn&rsquo;t
come easy with relays. In a way the registers already present in the computer
are a kind of memory &mldr; they store a single byte of data. So, effectively you
can get two bytes worth of storage on one of the usual computer cards. You can
maybe see where this is going.</p><p>Each instruction in a program takes
a byte of memory therefore a 10 line program needs 10 bytes of memory. How
long does a program need to be? Well is depends but for this kind of computer
20 to 30 wouldn&rsquo;t be unreasonable it you&rsquo;re going to do something
&lsquo;interesting&rsquo;. It&rsquo;s not just the instructions that need storing though.
Eventually the computer will also have instructions to load and store values
in memory so that you can have more values &lsquo;on the go&rsquo; than could be held in
the registers alone. Storing the program as well as data in the same physical
memory is known as a Von Neumann architecture (named after the mathematician
and physicist who wrote a paper on it). Alternatively a computer could use a
Harvard architecture where the program is stored separately.</p><p>So can
you see the problem? Let&rsquo;s say we have a program that&rsquo;s 30 lines long plus we
want to store an additional ten data values (as bytes) to work upon then we&rsquo;re
looking at a total of 40 bytes of memory. That doesn&rsquo;t sound much if you think
of modern computers with 8 or 16Gb but in this case I&rsquo;d have to make 20
register type cards to store those 40 bytes. Apart from that boring me to
tears constructing that many registers it&rsquo;d also take up a lot of room and
making a compact relay computer was one of my primary goals. Also, if you want
to add an extra line to the program then it&rsquo;s time to get the soldering iron
out again.</p><p>What&rsquo;s the alternative then? Well, there&rsquo;s not much
choice if I&rsquo;m to stick with relays. I wanted to try and keep the computer
&lsquo;authentic&rsquo; and with a traceable route right back to the
<a href=https://en.wikipedia.org/wiki/Z3_(computer)>Konrad Zuse Z3</a>.
Now you could say that by using LEDs it looses authenticity but it&rsquo;s
just a newer version of a lightbulb in the same way the miniature relays I use
are a modern equivalent of the Z3 relays - the &lsquo;feeling&rsquo; is the same and the
experience of the computer running is very similar. The Z3 was the original
inspiration for making this computer which, via a bit of surfing on the net,
found me at the <a href=http://web.cecs.pdx.edu/~harry/Relay/>Harry Porter relay computer</a> and that&rsquo;s where the seed was
truly sown. Actually, I re-discovered the video of the Z3 that started it all
so I thought I&rsquo;d share it below (it&rsquo;s in German but you&rsquo;ll get the general
idea):</p><div class="columns is-multiline"><div class="column is-four-fifths-tablet is-three-quarters-desktop"><figure class="image is-16by9 m-0"><iframe class=has-ratio width=640 height=360 src=https://www.youtube.com/embed/aUXnhVrT4CI frameborder=0 allowfullscreen></iframe></figure></div></div><p>So, if I&rsquo;m going to get more memory in less space I
need to wind the clock forward a bit and choose a newer technology. I was
seriously tempted by <a href=https://en.wikipedia.org/wiki/Magnetic-core_memory>magnetic core memory</a> &mldr; I saw one of these at the
National Museum of Computing in Bletchley Park, UK (yes, the &lsquo;Alan Turing&rsquo;
Bletchley Park) I was immediately smitten. Core memory is just so intricate
&mldr; however, it&rsquo;s therefore an absolute pain to build and although it&rsquo;s much
smaller than the relay equivalent you still don&rsquo;t get a decent density of
memory for the space taken.</p><p>What did I do then? &mldr; I gave up and
rolled the clock all the way forward and decided to use a modern(ish) memory
chip instead. If you need any justification I think this <a href=https://en.wikipedia.org/wiki/Magnetic-core_memory#/media/File:8_bytes_vs._8Gbytes.jpg>picture says</a>
it all. Now, I&rsquo;m not suggesting I&rsquo;m going to
add 8Gb of memory to my computer (which would be quite extreme) but bigger is
usually better when it comes to memory. However, the memory itself is not the
only consideration that needs to be made. You need a way of telling the memory
which location to store or retrieve the value from and that&rsquo;s where the
address bus comes in.</p><p>The size of the address bus has a direct
impact on how much memory the computer can actually use. A good place to start
is by having an 8-bit address bus to match the 8-bit data bus. How much memory
does that let us address? Effectively 8-bits have 2^8 unique values (256) so
an 8-bit address bus would give you 256 bytes of memory. Of course, the
interesting thing about this is that as you add more bits to the address bus
the addressable memory grows exponentially. Although I&rsquo;d be happy enough with
256 bytes of memory I couldn&rsquo;t find any memory chips with that little memory -
the smallest I could find that was readily available was 32K. That would need
a 15-bit address bus to address the 32,768 memory locations but 15 is a bit of
an odd number so I opted for 16-bits.</p><p>To fully utilise the 16-bit
address bus I&rsquo;d need two 32K memory chips but I decided to stick with just the
one chip as I couldn&rsquo;t ever see a case where I&rsquo;d need that much memory anyway.
It then struck me that I could use the higher addresses for &lsquo;other things&rsquo;. I
eventually plan to expose all the busses out the back of the computer allowing
for future expansion and by having those spare addresses (all 32,768 of them)
I could drive either more memory or more likely things like displays etc. This
also works out quite nicely as I can enable/disable the internal memory chip
based on the most significant bit of the address bus &mldr; if it&rsquo;s 0 then the
internal memory is active &mldr; if it&rsquo;s 1 then the internal memory chip is
disabled and something else takes over.</p><p>So, with all that out of
the way I can now get stuck in to the actual design of the memory card but
it&rsquo;s slightly more complex this time because whereas all of the computer so
far has been based on connecting and disconnecting power via relays the memory
chips don&rsquo;t work that way and there&rsquo;ll need to be some interfacing work done.
Anyway, that&rsquo;s all to come in the next post.</p></div><div class="field is-grouped is-grouped-multiline"><div class=control><span class="tags has-addons"><span class="tag is-link">Published</span>
<span class="tag is-info">Aug 18, 2017</span></span></div><div class=control><a href=/cards/memory class="tags has-addons"><span class="tag is-link">Card</span>
<span class="tag is-info">memory</span></a></div></div><div class="field is-grouped is-grouped-multiline"><div class=control><a href=/tags/design/ class=tags><span class="tag is-primary">design</span></a></div><div class=control><a href=/tags/memory/ class=tags><span class="tag is-primary">memory</span></a></div><div class=control><a href=/tags/musings/ class=tags><span class="tag is-primary">musings</span></a></div><div class=control><a href=/tags/theory/ class=tags><span class="tag is-primary">theory</span></a></div><div class=control><a href=/tags/video/ class=tags><span class="tag is-primary">video</span></a></div></div><div class=columns><div class=column><span class=has-text-weight-semibold>Previous Post</span><br><a href=/posts/2017/08/more-laser-cut-parts/>More Laser Cut Parts</a></div><div class="column has-text-right"><span class=has-text-weight-semibold>Next Post</span><br><a href=/posts/2017/09/memory-design-part-1-of-2/>Memory Design (Part 1 of 2)</a></div></div></div></div></div></section><section class="hero is-small is-success"><div class="hero-body py-1"></div></section><footer class="footer pt-5"><div class=container><div class=columns><div class=column><p class=has-text-weight-semibold>On this blog</p><p><a href=https://relaycomputer.co.uk/>Home</a></p><p><a href=https://relaycomputer.co.uk/posts/>Posts</a></p><p><a href=https://relaycomputer.co.uk/tags/>Tags</a></p><p><a href=https://relaycomputer.co.uk/pages/progress/>Progress</a></p></div><div class=column><p class=has-text-weight-semibold>Related sites</p><p><a href=https://www.youtube.com/channel/UCDn07eKw2HDPIgSAGQgliAA><span class="fab fa-youtube fa-lg fa-fw"></span> YouTube Channel</a></p><p><a href=https://github.com/paul80nd><span class="fab fa-github fa-lg fa-fw"></span> GitHub Repos</a></p><p><a href=https://editor.relaycomputer.co.uk><span class="fas fa-code fa-lg fa-fw"></span> Relay Code Editor</a></p><p><a href=https://simulator.relaycomputer.co.uk><span class="fas fa-flask fa-lg fa-fw"></span> Relay Simulator</a></p></div><div class=column><p class=has-text-weight-semibold>Share this page</p><p><a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2frelaycomputer.co.uk%2fposts%2f2017%2f08%2fthe-problem-with-memory%2f&quote=The%20problem%20with%20memory" target=_blank title="Share on Facebook"><i class="fab fa-facebook-square fa-2x" aria-hidden=true></i><span class=sr-only>Share on Facebook</span></a>
<a href="https://twitter.com/intent/tweet?source=https%3a%2f%2frelaycomputer.co.uk%2fposts%2f2017%2f08%2fthe-problem-with-memory%2f&text=The%20problem%20with%20memory:https%3a%2f%2frelaycomputer.co.uk%2fposts%2f2017%2f08%2fthe-problem-with-memory%2f" target=_blank title=Tweet><i class="fab fa-twitter-square fa-2x" aria-hidden=true></i><span class=sr-only>Tweet</span></a>
<a href="http://pinterest.com/pin/create/button/?url=https%3a%2f%2frelaycomputer.co.uk%2fposts%2f2017%2f08%2fthe-problem-with-memory%2f&description=The%20problem%20with%20memory" target=_blank title="Pin it"><i class="fab fa-pinterest-square fa-2x" aria-hidden=true></i><span class=sr-only>Pin it</span></a>
<a href="http://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2frelaycomputer.co.uk%2fposts%2f2017%2f08%2fthe-problem-with-memory%2f&title=The%20problem%20with%20memory&source=https%3a%2f%2frelaycomputer.co.uk%2fposts%2f2017%2f08%2fthe-problem-with-memory%2f" target=_blank title="Share on LinkedIn"><i class="fab fa-linkedin fa-2x" aria-hidden=true></i><span class=sr-only>Share on LinkedIn</span></a>
<a href="mailto:?subject=The%20problem%20with%20memory&body=https%3a%2f%2frelaycomputer.co.uk%2fposts%2f2017%2f08%2fthe-problem-with-memory%2f" target=_blank title="Send email"><i class="fas fa-envelope-square fa-2x" aria-hidden=true></i><span class=sr-only>Send email</span></a></p></div></div></div></footer></body></html>