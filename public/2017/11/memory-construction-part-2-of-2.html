<!DOCTYPE html>
<html lang="en">

  <head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Memory Construction (Part 2 of 2) | Relay Computer</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="Memory Construction (Part 2 of 2)" />
<meta name="author" content="Paul Law" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="In my last post I made a start on the memory unit construction with the lower memory card. The lower card centres around the memory IC which runs at 5V. The upper memory card picks up the task of converting the data and address bus coming in from the rest of the computer (running at 12V) to the 5V needed by the memory IC." />
<meta property="og:description" content="In my last post I made a start on the memory unit construction with the lower memory card. The lower card centres around the memory IC which runs at 5V. The upper memory card picks up the task of converting the data and address bus coming in from the rest of the computer (running at 12V) to the 5V needed by the memory IC." />
<link rel="canonical" href="https://relaycomputer.co.uk/2017/11/memory-construction-part-2-of-2" />
<meta property="og:url" content="https://relaycomputer.co.uk/2017/11/memory-construction-part-2-of-2" />
<meta property="og:site_name" content="Relay Computer" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-11-25T16:52:00+00:00" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"Paul Law"},"url":"https://relaycomputer.co.uk/2017/11/memory-construction-part-2-of-2","description":"In my last post I made a start on the memory unit construction with the lower memory card. The lower card centres around the memory IC which runs at 5V. The upper memory card picks up the task of converting the data and address bus coming in from the rest of the computer (running at 12V) to the 5V needed by the memory IC.","headline":"Memory Construction (Part 2 of 2)","@type":"BlogPosting","datePublished":"2017-11-25T16:52:00+00:00","dateModified":"2017-11-25T16:52:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://relaycomputer.co.uk/2017/11/memory-construction-part-2-of-2"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<!-- Begin CSS Styles -->
<link href="https://fonts.googleapis.com/css?family=PT+Serif:400,500,700" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Lato:300,400,500,700" rel="stylesheet">
<link href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" rel="stylesheet">
<link rel="stylesheet" href="/assets/css/app.css">
<!-- End CSS Styles -->



<link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/assets/img/favicon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicon/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/assets/img/favicon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">
<link type="application/atom+xml" rel="alternate" href="https://relaycomputer.co.uk/feed.xml" title="Relay Computer" />

<!-- Begin EU Cookie Consent -->
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#000"
    },
    "button": {
      "background": "#f1d600"
    }
  }
})});
</script>
<!-- End EU Cookie Consent -->


    <!-- Google Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47484999-2', 'auto');
	ga('send', 'pageview', { 'page': location.pathname + location.search + location.hash});
	ga('set', 'anonymizeIp', false);
    </script>
    <!-- End Google Analytics -->
    </head>


  <body>
      <nav class="navbar is-primary" >
        <div class="container">
            <div class="navbar-brand">
                <a href="/" class="navbar-item">
                    Relay Computer
                </a>
                <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navMenu">
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                </a>
            </div>
            <div class="navbar-menu" id="navMenu">
                <div class="navbar-start">
                    <a href="/" class="navbar-item ">Home</a>
                    
                    
                        
                        <a href="/pages/overview.html" class="navbar-item ">Overview</a>
                        
                    
                        
                        <div class="navbar-item has-dropdown is-hoverable">
                            <a href="/#" class="navbar-link ">Summaries</a>
                            <div class="navbar-dropdown">
                                
                                <a href="/pages/progress.html" class="navbar-item ">Progress</a>
                                
                                <a href="/pages/instructions.html" class="navbar-item ">Instructions</a>
                                
                                <a href="/pages/alu.html" class="navbar-item ">ALU</a>
                                
                                <a href="/pages/control.html" class="navbar-item ">Control</a>
                                
                                <a href="/pages/enclosure.html" class="navbar-item ">Enclosure</a>
                                
                                <a href="/pages/registers.html" class="navbar-item ">Registers</a>
                                
                                <a href="/pages/ui.html" class="navbar-item ">UI</a>
                                
                            </div>
                        </div>
                        
                    
                        
                        <a href="/archive.html" class="navbar-item ">Archive</a>
                        
                    
                        
                        <a href="/tags.html" class="navbar-item ">Tags</a>
                        
                    
                    
                </div>
            </div>
        </div>
    </nav>

      
        <section class="hero is-bold is-primary" >
    <div class="hero-body">
        <div class="container">                
            <h1 class="title ">Memory Construction (Part 2 of 2)</h1>
            <h2 class="subtitle"></h2>
        </div>
    </div>
</section>
      

      <section class="section">
        <div class="container">
              <div class="columns">
  <div class="column is-three-quarters-widescreen">
    <div class="content">

      <p>In my last post I made a start on the memory unit construction with 
the lower memory card. The lower card centres around the memory IC which runs 
at 5V. The upper memory card picks up the task of converting the data and 
address bus coming in from the rest of the computer (running at 12V) to the 5V 
needed by the memory IC.</p>

<p>The LEDs and backplane connectors were 
soldered down in my last post so we can jump straight to adding the card 
interconnects which pass the local address/data busses to the lower card:</p>

<figure>
  <img src="/assets/img/posts/2017/2017-11-25-0000.jpg" alt="Upper memory card with added card interconnects" />
  <img src="/assets/img/posts/2017/2017-11-25-0001.jpg" alt="Upper memory card with added card interconnects (rear view)" />
  <img src="/assets/img/posts/2017/2017-11-25-0002.jpg" alt="Upper memory card with added card interconnects (close up of rear)" />
  
</figure>

<p>These interconnects mate with the matching 
sockets on the lower card and when sandwiched together the two cards form the 
memory unit.</p>

<p>Next job is to solder down all the relay sockets and 
wire wrap posts. In my last post I mentioned that the upper memory card is 
quite densely populated as a large number of relays are required to handle all 
the data and address bus conversion. On previous cards Iâ€™ve soldered down two 
rows of turned pin sockets with the wire wrap posts alongside for each and 
every relay. On cards such as this it does become a bit of a fiddly and 
tedious job and so Iâ€™m changing approach this time and having a go at 
soldering down whole rows of connectors for a group of relays. Hereâ€™s what 
that looks like:</p>

<figure>
  <img src="/assets/img/posts/2017/2017-11-25-0003.jpg" alt="New style of relay sockets (front view)" />
  <img src="/assets/img/posts/2017/2017-11-25-0004.jpg" alt="New style of relay sockets (rear view)" />
  
</figure>

<p>As you can probably see this is slightly wasteful in terms of unused sockets 
and pins (and therefore increases the cost slightly) but Iâ€™ve offset that 
against the time it takes to construct. In theory my time is free but my 
patience isnâ€™t and given this is ultimately a hobby itâ€™s quite right that I 
should look for more efficient ways of doing things to save boredom setting 
in. I can repeat this pattern to get the rest of the relay sockets soldered 
down:</p>

<figure>
  <img src="/assets/img/posts/2017/2017-11-25-0005.jpg" alt="Upper memory card with added sockets and wire wrap posts" />
  <img src="/assets/img/posts/2017/2017-11-25-0006.jpg" alt="Upper memory card with added sockets and wire wrap posts (rear view)" />
  
</figure>

<p>You may have noticed that thereâ€™s no gaps left 
for the diodes that sit in front of each relay and thatâ€™s because theyâ€™ll be 
popped in to the sockets as well - again this simplifies the soldering. 
Looking at the picture above left you can also see thereâ€™s a break in the rows 
about two fifths up the card and thatâ€™s intentional so that the wire wrap can 
run across the card horizontally where needed.</p>

<p>On the back of the 
card (pictured above) you can also see another alternative approach - this 
time in how Iâ€™m constructing the ground lines. On previous cards Iâ€™ve used 
insulated wire that needs individually cutting, trimming and soldering down. 
Again, thatâ€™s a time consuming (and increasingly tedious) job and so itâ€™s ripe 
for a change of approach. So, this time around Iâ€™ve soldered bare wire down 
right across all the points that need it. This is much quicker but does run 
the risk of shorting something out although once soldered down those wires 
arenâ€™t going anywhere so the risk is pretty minimal. All other power lines 
still stick with the insulated wire as they cross ground wires in many places. 
Note that on this card there are two power lines: the red 12V line and the 
yellow 5V line.</p>

<p>With all the soldering in place itâ€™s time to move 
on to fitting the diodes and making a start on the wire wrap:</p>

<figure><img src="/assets/img/posts/2017/2017-11-25-0007.jpg" alt="Upper memory card with added diodes and initial wire wrap" />
  
</figure>

<p>You can now see how the diodes fit in which would make 
replacement easier in the (very) unlikely event of a component failure. The 
first round of wire wrap here brings the data bus in to the conversion relays 
such that when a line of the bus is connected to 12V the relays connect the 
output to 5V and when a line of the bus is disconnected from 12V the relays 
connect the output to the 5V ground. Letâ€™s complete the incoming data bus wire 
wrap:</p>

<figure><img src="/assets/img/posts/2017/2017-11-25-0008.jpg" alt="Upper memory card with added inbound data bus gating wire wrap" />
  
</figure>

<p>The converted inbound data bus lines are now 
routed through a set of gating relays so that itâ€™s only connected to the 
internal memory bus when we need it â€¦ and â€˜when we need itâ€™ is determined by 
the â€˜Bus To Memoryâ€™ (B2M) control line seen here in yellow. Similarly we can 
now wire up the output data bus:</p>

<figure>
  <img src="/assets/img/posts/2017/2017-11-25-0009.jpg" alt="Upper memory card with added data bus out gating wire wrap" />
  <img src="/assets/img/posts/2017/2017-11-25-0010.jpg" alt="Upper memory card with added data bus out wire wrap" />
  
</figure>

<p>This time the green wire wrap comes off the card 
interconnects and sends the outbound memory data bus through a set of gating 
relays. This time weâ€™re only gating those lines when the memory is being read. 
The control wiring is set up such that B2M is vetoed when the MR (memory read) 
line is active. The outbound memory data bus is unusual in that when a 
bit is set in memory the according bus line is grounded (and is held high 
otherwise) due to the way the relay driver IC works on the lower card. This 
means that we connect the negative side of each relay to this data bus and the 
positive side to 12V (via the memory enable switch). From those â€˜conversionâ€™ 
relays itâ€™s straight out to the computerâ€™s data bus.</p>

<p>Last wire wrap 
job is to hook up the computerâ€™s address bus to the local memory address 
bus:</p>

<figure><img src="/assets/img/posts/2017/2017-11-25-0011.jpg" alt="Upper memory card with added address bus wire wrap" />
  
</figure>

<p>This is very similar to the incoming data bus wire wrap in 
that we convert the connected/disconnected 12V to 5V power/ground. This time 
though no gating is required as the address bus is permanently connected to 
the memory chip and is effectively â€˜read onlyâ€™. Note that there are only 15 
relays because the last bit of the address bus is used to select the memory 
unit â€¦ when unset the memory unit is active and when set the memory unit 
effectively disconnects from the computer. This way you can address the full 
32,768 slots of the memory chip whilst leaving another 32,768 slots available 
for future expansion. That â€˜future expansionâ€™ doesnâ€™t have to be more memory 
by the way â€¦ it could be a display unit or similar.</p>

<p>Right, letâ€™s 
pop the relays in and the upper memory card is complete:</p>

<figure><img src="/assets/img/posts/2017/2017-11-25-0012.jpg" alt="Upper memory card with added relays" />
  
</figure>

<p>In 
my next post Iâ€™ll connect the upper and lower cards together thereby forming 
the memory unit as a whole and give it all a test.</p>


    </div>

    <div class="field is-grouped is-grouped-multiline">
      <div class="control">
        <a href="/archive#2017" class="tags has-addons">
          <span class="tag is-link">Published</span>
          <span class="tag is-info">Nov 25, 2017</span>
        </a>
      </div>
      
      <div class="control">
        <a href="/tags#construction" class="tags">
          <span class="tag is-primary">construction</span>
        </a>
      </div>
      
      <div class="control">
        <a href="/tags#memory" class="tags">
          <span class="tag is-primary">memory</span>
        </a>
      </div>
      
    </div>

    <div class="columns">
      <div class="column">
        
          <span class="has-text-weight-semibold">Previous Post</span><br />
          <a href="/2017/11/memory-construction-part-1-of-2">Memory Construction (Part 1 of 2)</a>
                
      </div>
      <div class="column has-text-right">
        
          <span class="has-text-weight-semibold">Next Post</span><br />
          <a href="/2017/11/memory-test">Memory Test</a>
                
      </div>
    </div>

  </div>
</div>
        </div>
      </section>
          
      <footer class="footer">
    <div class="container">
        <div class="columns">
            <div class="column">   
                <h3>On this blog</h3>  
                <p><a href="/index.html">Home</a></p>
                <p><a href="/archive">Archive</a></p>
                <p><a href="/tags">Tags</a></p>
                <p><a href="/pages/progress">Progress</a></p>
            </div>        
            <div class="column">
                <h3>Related sites</h3>
                <p><a href="https://www.youtube.com/channel/UCDn07eKw2HDPIgSAGQgliAA"><span class="fab fa-youtube fa-lg fa-fw"></span> YouTube Channel</a></p>
                <p><a href="https://github.com/paul80nd"><span class="fab fa-github fa-lg fa-fw"></span> GitHub Repos</a></p>
                <p><a href="http://simulator.relaycomputer.co.uk"><span class="fas fa-flask fa-lg fa-fw"></span> Relay Simulator</a></p>
            </div>
            <div class="column">
                <h3>Share on social media</h3>
                <p><a href="https://www.facebook.com/sharer/sharer.php?u=&amp;quote=" target="_blank"><span class="fab fa-facebook fa-lg fa-fw"></span> Share on Facebook</a></p>
                <p><a href="https://twitter.com/intent/tweet?source=&amp;text=" target="_blank"><span class="fab fa-twitter fa-lg fa-fw"></span> Tweet</a></p>
                <p><a href="http://www.tumblr.com/share?v=3&amp;u=&amp;quote=&amp;s=" target="_blank"><span class="fab fa-tumblr fa-lg fa-fw"></span> Post to Tumblr</a></p> 
                <p><a href="http://pinterest.com/pin/create/button/?url=&amp;description=" target="_blank"><span class="fab fa-pinterest fa-lg fa-fw"></span> Pin it</a></p> 
                <p><a href="http://www.reddit.com/submit?url=&amp;title=" target="_blank"><span class="fab fa-reddit fa-lg fa-fw"></span> Submit to Reddit</a></p>   
                <p><a href="mailto:?subject=&amp;body=" target="_blank"><span class="fas fa-envelope fa-lg fa-fw"></span> Send email</a></p> 
            </div>
        </div>                    
    </div>
</footer>

      <script src="/assets/js/app.js" type="text/javascript"></script>
  </body>

</html>