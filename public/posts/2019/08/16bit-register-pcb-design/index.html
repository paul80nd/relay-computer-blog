<!DOCTYPE html>
<html lang="en-gb">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>16-bit Register PCB Design | Relay Computer</title>
  <meta name="description" content="It&rsquo;s time for the oddly therapeutic part of designing a PCB &hellip; laying out the board. In my last post I covered the schematic design and so we now have all the components required for a 16-bit register captured in my design program of choice (EasyEDA) along with how each component is connected to everything else. The next step is to generate a PCB layout from that schematic &hellip; and I say &lsquo;generate&rsquo; which perhaps makes it sound like it&rsquo;s a &lsquo;click of a button&rsquo; type thing &hellip; well, clicking the &lsquo;create PCB&rsquo; button results in this:">
  <meta name="robots" content="index, follow">
  

  <link href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/main.css">
  

  <link rel="apple-touch-icon" sizes="57x57" href="/img/favicon/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/img/favicon/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/img/favicon/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/img/favicon/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/img/favicon/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/img/favicon/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/img/favicon/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/img/favicon/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/img/favicon/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
  <link rel="manifest" href="/img/favicon/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/img/favicon/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <meta property="og:title" content="16-bit Register PCB Design" />
<meta property="og:description" content="It&rsquo;s time for the oddly therapeutic part of designing a PCB &hellip; laying out the board. In my last post I covered the schematic design and so we now have all the components required for a 16-bit register captured in my design program of choice (EasyEDA) along with how each component is connected to everything else. The next step is to generate a PCB layout from that schematic &hellip; and I say &lsquo;generate&rsquo; which perhaps makes it sound like it&rsquo;s a &lsquo;click of a button&rsquo; type thing &hellip; well, clicking the &lsquo;create PCB&rsquo; button results in this:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://relaycomputer.co.uk/posts/2019/08/16bit-register-pcb-design/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-08-09T01:00:00+00:00" />
<meta property="article:modified_time" content="2019-08-09T01:00:00+00:00" />

<meta itemprop="name" content="16-bit Register PCB Design">
<meta itemprop="description" content="It&rsquo;s time for the oddly therapeutic part of designing a PCB &hellip; laying out the board. In my last post I covered the schematic design and so we now have all the components required for a 16-bit register captured in my design program of choice (EasyEDA) along with how each component is connected to everything else. The next step is to generate a PCB layout from that schematic &hellip; and I say &lsquo;generate&rsquo; which perhaps makes it sound like it&rsquo;s a &lsquo;click of a button&rsquo; type thing &hellip; well, clicking the &lsquo;create PCB&rsquo; button results in this:"><meta itemprop="datePublished" content="2019-08-09T01:00:00+00:00" />
<meta itemprop="dateModified" content="2019-08-09T01:00:00+00:00" />
<meta itemprop="wordCount" content="1897">
<meta itemprop="keywords" content="design,registers," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="16-bit Register PCB Design"/>
<meta name="twitter:description" content="It&rsquo;s time for the oddly therapeutic part of designing a PCB &hellip; laying out the board. In my last post I covered the schematic design and so we now have all the components required for a 16-bit register captured in my design program of choice (EasyEDA) along with how each component is connected to everything else. The next step is to generate a PCB layout from that schematic &hellip; and I say &lsquo;generate&rsquo; which perhaps makes it sound like it&rsquo;s a &lsquo;click of a button&rsquo; type thing &hellip; well, clicking the &lsquo;create PCB&rsquo; button results in this:"/>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script>
<script>
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#000"
    },
    "button": {
      "background": "#f1d600"
    }
  },
  "theme": "edgeless"
});
</script>

  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-47484999-2', 'auto');
	
	ga('send', 'pageview');
}
</script>

  
  <script defer language="javascript" type="text/javascript"  src="/js/main.js"></script>
</head>

<body>
  
<nav class="navbar is-primary" role="navigation" aria-label="main navigation">
  <div class="container">
    <div class="navbar-brand">
      <a href="/" class="navbar-item has-text-weight-semibold">
        <img class="mr-2" src="/img/favicon/favicon-96x96.png" width="32">
        Relay Computer
      </a>
      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navMenu">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>
    <div class="navbar-menu" id="navMenu">
      <div class="navbar-end">
        
        <a href="/" class="navbar-item ">
          Home
        </a>
        
        <a href="/pages/overview/" class="navbar-item ">
          Overview
        </a>
        
        <a href="/pages/progress/" class="navbar-item ">
          Progress
        </a>
        
        <a href="/posts/" class="navbar-item is-active">
          Posts
        </a>
        
        <a href="/tags/" class="navbar-item ">
          Tags
        </a>
        
      </div>
    </div>
  </div>
</nav>

  

<section class="hero is-bold is-small is-primary">
  <div class="hero-body pb-3 pt-4">
    <div class="container">
      <h1 class="title is-size-4">16-bit Register PCB Design</h1>
      <h2 class="subtitle"></h2>
    </div>
  </div>
</section>


<section class="section has-background-white">
  <div class="container">
    <div class="columns">
      <div class="column is-three-quarters-widescreen">
        <div class="content">
          <p>It&rsquo;s time for the oddly therapeutic part of designing a PCB &hellip; laying out the board. In my last post I covered the
schematic design and so we now have all the components required for a 16-bit register captured in my design program of
choice (<a href="https://easyeda.com">EasyEDA</a>) along with how each component is connected to everything else. The next step is to
generate a PCB layout from that schematic &hellip; and I say &lsquo;generate&rsquo; which perhaps makes it sound like it&rsquo;s a &lsquo;click of a
button&rsquo; type thing &hellip; well, clicking the &lsquo;create PCB&rsquo; button results in this:</p>
<figure>
  <img src="/img/posts/2019/2019-08-09-0000.png" alt="PCB Starting Point">
  
</figure>

<p>As the schematic doesn&rsquo;t define any sort of physical location for each component the PCB designer starts off by placing all
the components in neat rows by the side of the board. The blue lines you can see are called &lsquo;air wires&rsquo; &hellip; these are the
required connections between components that we&rsquo;ll have to lay down as tracks on the PCB. The &lsquo;game&rsquo; at hand then is to fit
all the components on the board and lay down all the required tracks until no air wires are remaining.</p>
<p>Most PCB design tools have an auto-layout feature of some kind and these can be useful to get a feel for how things will
fit but ultimately there&rsquo;s a bit of an art to board layout. You could give the schematic to 10 different engineers and
you&rsquo;d likely come out with 10 different PCB layouts - it can be quite an individual thing. Anyho, here&rsquo;s a closer look:</p>
<figure>
  <img src="/img/posts/2019/2019-08-09-0001.png" alt="Closer look">
  
</figure>

<p>Each of the components that appeared in the schematic has an equivalent &lsquo;footprint&rsquo; that defines it&rsquo;s physical dimensions,
outline and the shape/position of the holes. You can find footprints available in online libraries for most common
components but if needed you can create your own or tweak an existing one. In the case of the relays here I&rsquo;ve used a
generic footprint for that size &amp; leg pitch and then changed it as needed. One of the key things to check is the size of the
pads, hole sizes and solder mask reveal:</p>
<figure>
  <img src="/img/posts/2019/2019-08-09-0002.png" alt="Footprint tweaking">
  
</figure>

<p>Note the unit of measurement here is &lsquo;mil&rsquo; which is a thousandth of an inch. You can change this if preferred but most
manufacturers will list their manufacturing tolerances/abilities in mil. In particular you need to keep an eye out for
smallest hole size, track size, distance between tracks etc. Keeping to a limited selection of hole sizes can also reduce the
cost of the board manufacturing being as it saves tool changes and so on. In this case the holes for the relay legs are
51.181mil which is 1.3mm. As it happens this is way bigger than I needed (the matrix board I&rsquo;ve been using so far have 1mm
holes). The pad size is 78.74mil (2mm) and then there&rsquo;s a 4mil (0.1mm) clearance around the pad before the solder mask covers
the copper. It&rsquo;s worth spending some time on getting all the pads right before moving on.</p>
<p>The next job is set up the grid and physical board outline:</p>
<figure>
  <img src="/img/posts/2019/2019-08-09-0003.png" alt="Grid and board outline">
  
</figure>

<p>Here I&rsquo;ve set the grid size to 100mil which is 0.1inch as this matches the hole pitch on the matrix/pad prototyping boards
I&rsquo;ve been using so far and this&rsquo;ll make it much easier to place the connectors and LEDs to match the other cards. I&rsquo;ve set
the snap size to 25mil so that when placing tracks it&rsquo;ll snap to 1/4, 1/2 or 3/4 of the distance between grid points meaning
I can, in theory, fit 3 tracks between pads easily (and making this process as easy as possible is crucial as there&rsquo;s a
lot of tracks to route around components).</p>
<p>For the board outline it&rsquo;s simply a case of drawing the lines in the right place and at the required length. As I&rsquo;m keeping
the size the same as the existing matrix/pad boards then that&rsquo;s 160mm by 115mm. For the same reason I&rsquo;m rounding-off each
corner by drawing arcs. Note that the board outline is positioned so that the grid lines up with where the holes are on
the matrix/pad boards so, again, components can be placed accurately to fit the computer backplanes. When the board is
manufactured it&rsquo;ll be milled out along this board outline so you can, if wanted, make your board any shape you like.</p>
<p>With the board outline sorted and grid positioned/sized we can start laying out some of the components. It&rsquo;s usually best to
start with the components that depend on being in a particular place on the board. In our case that&rsquo;s the LEDs at the front
and the connectors at the back.</p>
<figure>
  <img src="/img/posts/2019/2019-08-09-0004.png" alt="LED placement">
  
</figure>

<p>I&rsquo;ve also added some of the silk-screen legend too at this point which will appear in white text on the final product. This
step is often left until the end of the card design process but being as these LEDs aren&rsquo;t going anywhere it makes sense to
get this bit out of the way (and it&rsquo;ll help me identify what&rsquo;s what when I start laying down tracks). You can also see the
two non-plated drill holes at the front of the card to match the matrix/pad boards.</p>
<figure>
  <img src="/img/posts/2019/2019-08-09-0005.png" alt="Connectors placement">
  
</figure>

<p>It&rsquo;s worth printing the design out at this point at 1:1 scale and comparing it to the components and to other cards to make
sure the dimensions are coming out well. The more checking you can do before laying down tracks then the more time and
frustration you can save. That&rsquo;s not to say that re-work is totally avoidable and sometime&rsquo;s you&rsquo;ll get a PCB layout nearly
completed only to realise something is missing that forces everything to be moved around.</p>
<p>With other components placed on the board we can now move on to placing the relay units (relay plus diode). Having a good
understanding of the schematic and where the &lsquo;functional blocks&rsquo; are can help with this step. Failing that it&rsquo;s a case of
trial and error moving things around to you get something that&rsquo;s pleasing to the eye and looks like there&rsquo;s a good chance
of laying down the required tracks.</p>
<figure>
  <img src="/img/posts/2019/2019-08-09-0006.png" alt="Basic component layout">
  
  <figcaption markdown="span">Basic component layout (<a href="/img/posts/2019/2019-08-09-1006.png">larger</a>)</figcaption>
  
</figure>

<p>Again, I&rsquo;ve got ahead of myself and added some of the silk-screen legend just to help keep track of what&rsquo;s what. With the
components now laid out we can have a go at laying down some tracks:</p>
<figure>
  <img src="/img/posts/2019/2019-08-09-0007.png" alt="Relay tracks">
  
</figure>

<p>Here the red lines are tracks laid down on the top of the board which is where the majority of my signal tracks will be
placed. As each track is laid down the blue air wire will disappear and we&rsquo;re one step nearer to a completed design. A
good general track design strategy to try and place signals on one side of the board vertically and horizontally on the
other. Here I can generally go vertically on the top as most signals are passing from the front of the card to the rear.</p>
<figure>
  <img src="/img/posts/2019/2019-08-09-0008.png" alt="Relay tracks">
  
</figure>

<p>We can keep going in the same way laying down as many tracks as possible. Eventually, if there&rsquo;s enough air wires hanging
around, you&rsquo;ll need to have tracks cross over each other. This is where we&rsquo;ll need to drop a signal to the other side of
the board using a &lsquo;via&rsquo;.</p>
<figure>
  <img src="/img/posts/2019/2019-08-09-0010.png" alt="Relay tracks">
  
</figure>

<p>A via is a tiny solder filled hole that goes through the board and connects a track on one side of the board to the other.
Here the blue lines are on the bottom of the board and used to get the tracks coming down the right half over to the left
half where they&rsquo;re needed further down the board. Again, these bottom tracks are kept reasonably horizontal. At this point
we have our upper and lower signal tracks all routed. Here&rsquo;s all the upper tracks:</p>
<figure>
  <img src="/img/posts/2019/2019-08-09-0009.png" alt="Upper tracks">
  
  <figcaption markdown="span">Upper tracks (<a href="/img/posts/2019/2019-08-09-1009.png">larger</a>)</figcaption>
  
</figure>

<p>With all signal tracks routed we&rsquo;ve now got to turn our attention to the power and ground lines. Each relay needs its coil
grounding and a lot of them take power to some of their contacts to be able to create the outgoing signal lines. A typical
solution to routing these power and ground lines is to create copper planes. In a four layer board you&rsquo;d have signals on
top and bottom and then a whole ground plane and a whole power plane. In my case I&rsquo;m making a cheaper two layer board and so
I need to fit the planes within the two layers I&rsquo;ve got. To create a plane you draw a shape for the &lsquo;copper pour&rsquo; and name it
the same as the power lines:</p>
<figure>
  <img src="/img/posts/2019/2019-08-09-0011.png" alt="Plane connections">
  
</figure>

<p>Note the connections between the planes and the power connector pads &hellip; these appear as &lsquo;crosses&rsquo; and this is for thermal
relief. Without these soldering would be a nightmare as the heat of the iron would be wicked away by what is, in effect, a
giant heat sink. These thermal relief lines limit the amount of heat wicking making soldering possible. In this case I&rsquo;ve
decided to place both planes on the bottom of the card as I was pretty sure I could make it fit.</p>
<p>I&rsquo;m quite lucky on my PCB as I&rsquo;m not doing anything high frequency or AC based and so I have less to think about. If you are
doing something like that then you have to be quite careful with your planes. Large ground planes are quite nice for sinking
stray RF but also placing one place above another can actually create a capacitor (albeit with quite low capacitance). In
general you also need to work out how much copper area is between components and how much current they draw.</p>
<figure>
  <img src="/img/posts/2019/2019-08-09-0012.png" alt="Relay planes">
  
</figure>

<p>Here you can see the ground plane coming in from the top and the power plane coming in from the right. As I&rsquo;ve got signal
tracks running through this area too I have to be careful to make sure I&rsquo;m not cutting off any power/ground connections or
making the copper too thin/narrow. Again, each pad connection to a plane has thermal relief on it. Here&rsquo;s the completed
planes for power and grounding:</p>
<figure>
  <img src="/img/posts/2019/2019-08-09-0013.png" alt="Completed planes">
  
  <figcaption markdown="span">Completed planes (<a href="/img/posts/2019/2019-08-09-1013.png">larger</a>)</figcaption>
  
</figure>

<p>&hellip; and with that we&rsquo;re pretty much there. All that&rsquo;s needed now is a close check of absolutely everything &hellip; check, check
and check again. Although minor mistakes or errors can be patched up after the card has been manufactured it&rsquo;s not ideal and
anything major will need another trip to the factory. Fortunately EasyEDA offers some nice tools for inspecting the design
(as do other tools) &hellip; the first one is the &lsquo;photo view&rsquo; which allows you to display the finished card in your chosen mask
colour:</p>
<figure>
  <img src="/img/posts/2019/2019-08-09-0014.png" alt="Photo view (top)">
  
  <figcaption markdown="span">Photo view (top) (<a href="/img/posts/2019/2019-08-09-1014.png">larger</a>)</figcaption>
  
</figure>

<figure>
  <img src="/img/posts/2019/2019-08-09-0015.png" alt="Photo view (bottom)">
  
  <figcaption markdown="span">Photo view (bottom) (<a href="/img/posts/2019/2019-08-09-1015.png">larger</a>)</figcaption>
  
</figure>

<p>&hellip; and if that&rsquo;s not enough you can even view your card in the 3D viewer &hellip;</p>
<figure>
  <img src="/img/posts/2019/2019-08-09-0016.png" alt="3D view">
  
  <figcaption markdown="span">3D view (<a href="/img/posts/2019/2019-08-09-1016.png">larger</a>)</figcaption>
  
</figure>

<p>Once you&rsquo;re happy with your design (and you&rsquo;ve given it a thorough check) then you can push it to your chosen manufacturer. In
my case it&rsquo;s <a href="https://jlcpcb.com">JLCPCB</a> who have a five board minimum order but given how cheap they are it&rsquo;s not a problem.</p>
<p>So, once the cards have arrived it&rsquo;s on to soldering and I&rsquo;ll cover that in my next post (along with a YouTube video). If
you&rsquo;d like to take an even closer look at the PCB design for this card you can find my original design files on
<a href="https://easyeda.com/paul_6392/relay-computer-y-backplane-registers">EasyEDA here</a>. There&rsquo;s also a design for another PCB
there which will be used as a mounting plate for the LEDs along the front of the card to keep everything nice and neat.</p>

        </div>
        <div class="field is-grouped is-grouped-multiline">
          <div class="control">
            <a href="/archive#2019" class="tags has-addons">
              <span class="tag is-link">Published</span>
              <span class="tag is-info">Aug 09, 2019</span>
            </a>
          </div>
          
          
          <div class="control">
            <a href="/tags#design" class="tags">
              <span class="tag is-primary">design</span>
            </a>
          </div>
          
          <div class="control">
            <a href="/tags#registers" class="tags">
              <span class="tag is-primary">registers</span>
            </a>
          </div>
          
          
        </div>
        <div class="columns">
          <div class="column">
            
            <span class="has-text-weight-semibold">Previous Post</span><br />
            <a href="/posts/2019/07/16bit-register-design/">16-bit Register Design</a>
            
          </div>
          <div class="column has-text-right">
            
            <span class="has-text-weight-semibold">Next Post</span><br />
            <a href="/posts/2019/09/branching-opcode-design/">Branching: Opcode Design</a>
            
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

  <section class="hero is-small is-success">
  <div class="hero-body py-1">
  </div>
</section>
<footer class="footer pt-5">
  <div class="container">
    <div class="columns">
      <div class="column">
        <p class="has-text-weight-semibold">On this blog</p>
        <p><a href="https://relaycomputer.co.uk/">Home</a></p>
        <p><a href="https://relaycomputer.co.uk/posts/">Posts</a></p>
        <p><a href="https://relaycomputer.co.uk/tags/">Tags</a></p>
        <p><a href="https://relaycomputer.co.uk/pages/progress/">Progress</a></p>
      </div>
      <div class="column">
        <p class="has-text-weight-semibold">Related sites</p>
        <p><a href="https://www.youtube.com/channel/UCDn07eKw2HDPIgSAGQgliAA"><span
              class="fab fa-youtube fa-lg fa-fw"></span> YouTube Channel</a></p>
        <p><a href="https://github.com/paul80nd"><span class="fab fa-github fa-lg fa-fw"></span> GitHub Repos</a></p>
        <p><a href="http://simulator.relaycomputer.co.uk"><span class="fas fa-flask fa-lg fa-fw"></span> Relay
            Simulator</a></p>
      </div>
      <div class="column">
        <p class="has-text-weight-semibold">Share this page</p>
        <p>
            <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2frelaycomputer.co.uk%2fposts%2f2019%2f08%2f16bit-register-pcb-design%2f&quote=16-bit%20Register%20PCB%20Design" target="_blank" title="Share on Facebook"><i class="fab fa-facebook-square fa-2x" aria-hidden="true"></i><span class="sr-only">Share on Facebook</span></a>
            <a href="https://twitter.com/intent/tweet?source=https%3a%2f%2frelaycomputer.co.uk%2fposts%2f2019%2f08%2f16bit-register-pcb-design%2f&text=16-bit%20Register%20PCB%20Design:https%3a%2f%2frelaycomputer.co.uk%2fposts%2f2019%2f08%2f16bit-register-pcb-design%2f" target="_blank" title="Tweet"><i class="fab fa-twitter-square fa-2x" aria-hidden="true"></i><span class="sr-only">Tweet</span></a>
            <a href="http://pinterest.com/pin/create/button/?url=https%3a%2f%2frelaycomputer.co.uk%2fposts%2f2019%2f08%2f16bit-register-pcb-design%2f&description=16-bit%20Register%20PCB%20Design" target="_blank" title="Pin it"><i class="fab fa-pinterest-square fa-2x" aria-hidden="true"></i><span class="sr-only">Pin it</span></a>
            <a href="http://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2frelaycomputer.co.uk%2fposts%2f2019%2f08%2f16bit-register-pcb-design%2f&title=16-bit%20Register%20PCB%20Design&source=https%3a%2f%2frelaycomputer.co.uk%2fposts%2f2019%2f08%2f16bit-register-pcb-design%2f" target="_blank" title="Share on LinkedIn"><i class="fab fa-linkedin fa-2x" aria-hidden="true"></i><span class="sr-only">Share on LinkedIn</span></a>
            <a href="mailto:?subject=16-bit%20Register%20PCB%20Design&body=https%3a%2f%2frelaycomputer.co.uk%2fposts%2f2019%2f08%2f16bit-register-pcb-design%2f" target="_blank" title="Send email"><i class="fas fa-envelope-square fa-2x" aria-hidden="true"></i><span class="sr-only">Send email</span></a>
        </p>
      </div>
    </div>
  </div>
</footer>

</body>

</html>
